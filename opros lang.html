<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Опрос по выбору языка программирования</title>
      <link rel="icon" href="https://cdn.glitch.global/7c5bfd96-c6cb-4437-8495-9c6685ab23cb/favicon-32x32.png?v=1745089339521" type="image/x-icon">
     <link rel="stylesheet" href="opros lang.css">
</head>
<body>
  <header class="top-menu">
    <button class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </button>
    
    <nav class="sidebar" id="sidebar">
        <div class="menu-item" onclick="toggleMenu('basic')">Раздел 1: Основы программирования</div>
        <div class="submenu" id="basic">
            <a href="begin.html">Теоретические основы</a>
            <a href="types of languages.html">Классификация языков программирования</a>
            <a href="https://cdn.glitch.global/7c5bfd96-c6cb-4437-8495-9c6685ab23cb/%D0%A2%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D1%8B%20%D0%BF%D0%BE%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E.docx?v=1741513676779" download>Основные определения</a>
            <a href="begin_task.html">Задание</a>
        </div>
        <div class="menu-item" onclick="toggleMenu('dev')">Раздел 2: Направления разработки</div>
        <div class="submenu" id="dev">
            <a href="web-dev.html">Веб-разработка</a>
            <a href="mobile-dev.html">Мобильная разработка</a>
            <a href="desktop-dev.html">Настольная разработка</a>
            <a href="game-dev.html">Разработка игр</a>
            <a href="ai-dev.html">Машинное обучение и ИИ</a>
            <a href="begin_task_1.html">Задания</a>
        </div>
        <div class="menu-item" onclick="toggleMenu('languages')">Раздел 3: Языки программирования</div>
        <div class="submenu" id="languages">
            <a href="lang_program.html">Языки программирования</a>
            <a href="test.html">Тест по языкам</a>
            <a href="begin_task_2.html">Задания</a>
        </div>
        <div class="menu-item" onclick="toggleMenu('choose')">Раздел 4: Выбор языков программирования</div>
        <div class="submenu" id="choose">
			  <a href="how choose.html">Как выбрать соответсвующий язык</a>
        <a href="opros lang.html">Опрос по выбору языков</a>
        <a href="begin_task_3.html">Задание</a>
        </div>
        <div class="menu-item" onclick="toggleMenu('resources')">Раздел 5: Образовательные ресурсы</div>
        <div class="submenu" id="resources">
            <a href="for_study.html">Полезные материалы</a>
        </div>
    </nav>
</header>
    <div class="container" id="start-container">
        <h1>Какой программный продукт вы хотите создать?</h1>
        <div class="question">
            <button class="option-button" onclick="startSurvey('site')">Сайт</button>
            <button class="option-button" onclick="startSurvey('desktop')">Программа для компьютера</button>
            <button class="option-button" onclick="startSurvey('mobile')">Мобильное приложение</button>
            <button class="option-button" onclick="startSurvey('game')">Компьютерную игру</button>
            <button class="option-button" onclick="startSurvey('aiDev')">Искусственный интеллект с машинным обучением</button>
        </div>
    </div>

    <div class="container questions" id="survey">
        <h2 id="question-text"></h2>
        <div class="question" id="options-container"></div>
		<button onclick="nextQuestion(true)" id="back-btn">Отмена</button>
        <button onclick="prevQuestion()" id="prev-btn" style="display: none;">Назад</button>
        <button onclick="nextQuestion()" id="next-btn">Дальше</button>
		
    </div>
    
    <div id="result-container">
        <h2>Подходящие языки:</h2>
        <p id="result-text"></p>
        <button class="btn" onclick="continueSurvey()">Продолжить</button>
    </div>
  
    <div id="save-result-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h1>Сохранение результатов</h1>
    <input type="text" id="result-fio" placeholder="ФИО" required>
    <input type="text" id="result-group" placeholder="Группа" required>
    <button onclick="saveResult()" class="btn">Сохранить</button>
  </div>
</div>
  
    <script>
      
      const SAVE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx8YXbb80HjWUFpcFml0T4nuy1u_KmQmD-65XdwkncpafKhpDNR3xGWX6V4A3x_pVW6KA/exec";
      
      document.getElementById("hamburger").addEventListener("click", function() {
        document.getElementById("sidebar").classList.toggle("active");
    });

    function toggleMenu(id) {
        let submenu = document.getElementById(id);
        let allSubmenus = document.querySelectorAll(".submenu");

        allSubmenus.forEach(menu => {
            if (menu !== submenu) {
                menu.style.display = "none";
            }
        });

        submenu.style.display = submenu.style.display === "block" ? "none" : "block";
    }

      
        const questions = [
    { text: "Какой сайт вы хотите создать?", options: [
        { text: "Статический сайт (визитка, лендинг, блог)", languages: ["HTML", "CSS"] },
        { text: "Динамический сайт с анимацией и интерактивными элементами", languages: ["HTML", "CSS", "JavaScript"] },
        { text: "Интерактивный сайт с базами данных", languages: ["HTML", "CSS", "JavaScript", "SQL", "PHP"] },
        { text: "Сайт с мощной серверной логикой", languages: ["Python", "C#", "PHP"] },
        { text: "Сайт с аналитикой и высокой производительностью", languages: ["Python", "C++", "SQL"] }
    ]},
    { text: "Должен ли сайт поддерживать сложную анимацию и динамику?", options: [
        { text: "Да, много интерактивных элементов", languages: ["JavaScript", "Python"] },
        { text: "Простая динамика (например, всплывающие окна)", languages: ["JavaScript"] },
        { text: "Нет, только текст и изображения", languages: ["HTML"] }
    ]},
    { text: "Планируется ли работа с базами данных?", options: [
        { text: "Да, сайт будет использовать БД", languages: ["SQL", "PHP"] },
        { text: "Нет, данные хранятся в файлах", languages: ["JavaScript"] }
    ]},
    { text: "Какой уровень сложности разработки вам удобен?", options: [
        { text: "Простой (статистические элементы)", languages: ["HTML", "CSS"] },
        { text: "Средний (разработка готового сайта)", languages: ["HTML", "CSS", "JavaScript", "SQL", "PHP"] },
        { text: "Сложный (работа с внешними сервисами)", languages: ["Python", "C#", "C++"] }
    ]},
    { text: "Будет ли использоваться серверная логика?", options: [
        { text: "Да, обработка данных на сервере", languages: ["Python", "C#"] },
        { text: "Нет, сайт полностью статический", languages: [] }
    ]},
    { text: "Нужны ли сложные вычисления и обработка данных?", options: [
        { text: "Да, сложные алгоритмы и аналитика", languages: ["Python", "C++"] },
		    { text: "Небольшие вычисления с редкой обработкой данных", languages: ["JavaScript"] },
        { text: "Нет, обычные веб-страницы", languages: ["HTML", "CSS"] }
    ]},
	{ text: "Где будет размещаться ваш сайт?", options: [
        { text: "Без хостинга в файле (файл с расширением .html)", languages: ["HTML", "CSS"] },
		    { text: "На отдельном хостинге", languages: ["HTML", "CSS", "JavaScript"] },
        { text: "На сервере с обработкой данных", languages: ["Python", "C#", "PHP", "C++"] }
    ]},
    { text: "Какую функциональность вы добавите в будущем?", options: [
        { text: "Аналитика и сбор данных", languages: ["SQL", "Python", "C++"] },
        { text: "Электронная коммерция", languages: ["SQL", "JavaScript", "Python"] },
        { text: "Только базовые страницы без расширения функционала", languages: ["HTML", "CSS"] }
    ]},
    { text: "Будет ли на сайте сложная логика, например, автоматическая обработка данных?", options: [
        { text: "Да, нужна постоянная обработка данных", languages: ["Python", "C++"] },
        { text: "Частично (формы, динамика)", languages: ["JavaScript", "Python", "C#", "PHP"] },
        { text: "Нет, только статическая информация", languages: ["HTML", "CSS"] }
    ]},
    { text: "Какой подход к созданию сайта вам удобен?", options: [
        { text: "Простая сборка из готовых элементов/шаблонов", languages: ["HTML", "CSS", "JavaScript"] },
        { text: "Полная сборка своей оболочки", languages: ["Python", "C#", "C++"] }
    ]},
    { text: "Планируется ли работа с API?", options: [
        { text: "Да, сайт будет получать и обрабатывать данные извне", languages: ["JavaScript", "Python", "SQL", "C++"] },
        { text: "Нет, сайт полностью автономный", languages: ["HTML", "CSS", "JavaScript", "Python"] }
    ]},
    { text: "Нужно ли загружать и обрабатывать файлы на сайте?", options: [
        { text: "Да, пользователи смогут загружать файлы", languages: ["Python", "C#", "JavaScript", "С++"] },
        { text: "Нет, только текстовый контент", languages: ["HTML", "CSS"] }
    ]},
    { text: "Будет ли сайт поддерживать мобильные устройства и адаптивный дизайн?", options: [
        { text: "Да, важно для мобильных устройств", languages: ["CSS", "С++", "C#"] },
        { text: "Нет, сайт ориентирован для ПК", languages: ["HTML", "CSS", "JavaScript"] }
    ]},
    { text: "Какую производительность сайта вы ожидаете?", options: [
        { text: "Высокую, будет много обработки кода и данных", languages: ["C++", "C#"] },
        { text: "Среднюю, главное удобство разработки", languages: ["JavaScript", "Python", "PHP"] },
        { text: "Низкую, не будет страниц с огромных функционалом", languages: ["HTML", "CSS", "JavaScript"] }
    ]},
    { text: "Планируется ли разработка мобильного приложения на основе сайта?", options: [
        { text: "Да, сайт будет основой приложения", languages: ["JavaScript", "Python", "C#"] },
        { text: "Нет, только сайт", languages: ["HTML", "CSS", "SQL"] }
    ]}
]; // Вопросы про создание сайта

const desktopQuestions = [
    { text: "Какой тип программы вы хотите создать?", options: [
        { text: "Консольное приложение", languages: ["Python", "C#"] },
        { text: "Графическое приложение", languages: ["C#", "Java", "Python"] },
        { text: "Программа, которая будет работать с базами данных", languages: ["SQL", "C#", "Java", "Python"] }
    ]},
    { text: "На какой платформе должна работать программа?", options: [
        { text: "Windows", languages: ["C#", "C++", "Java"] },
        { text: "MacOS", languages: ["Swift", "Python", "C++"] },
        { text: "Кроссплатформенная", languages: ["Python", "C++"] }
    ]},
    { text: "Какой уровень производительности вам важен?", options: [
        { text: "Высокая, работа с памятью", languages: ["C++"] },
        { text: "Средняя, гибкость разработки", languages: ["Java", "Python"] },
        { text: "Низкая, простота разработки", languages: ["C#", "Python"] }
    ]},
    { text: "Будет ли программа работать с большими объёмами данных?", options: [
        { text: "Да, нужна работа с большими хранящимися объемами данных", languages: ["SQL", "C#", "Python", "C++"] },
        { text: "Да, но с небольшими локальными базами", languages: ["SQL", "C#", "Python", "Java"] },
        { text: "Нет, будет небольшой объём данных", languages: ["C++", "C#", "Python", "Java"] }
    ]},
    { text: "Нужно ли создание графического интерфейса (GUI)?", options: [
        { text: "Да, нужен современный интерфейс", languages: ["C#", "Java", "Python", "C++"] },
        { text: "Да, но простой (минимальный UI)", languages: ["Python", "C#", "C++"] },
        { text: "Нет, достаточно консольного ввода", languages: ["Python", "C#"] }
    ]},
    { text: "Хотите ли вы в будущем расширять программу в веб-версию?", options: [
        { text: "Да, приложение может стать частью веб-проекта", languages: ["C#", "Python", "C++"] },
        { text: "Нет, оно останется десктопным", languages: ["C++", "C#", "Python", "Java"] }
    ]},
    { text: "На какой системе будете программировать?", options: [
        { text: "На мощном компьютере", languages: ["C#", "Python", "Java"] },
		{ text: "На компьютере средней мощности", languages: ["C#", "Python", "Java", "C++"] },
        { text: "На слабом компьютере", languages: ["Python", "C++"] }
    ]},
    { text: "Программа должна обрабатывать данные в реальном времени?", options: [
        { text: "Да, она требует высокой скорости обработки", languages: ["C++", "C#", "Python"] },
        { text: "Нет, можно обрабатывать данные в фоновом режиме", languages: ["Python", "Java"] }
    ]},
    { text: "Какой уровень сложности кодирования вас устраивает?", options: [
        { text: "Легче начать и разрабатывать быстрее", languages: ["Python", "C#"] },
        { text: "Средний уровень сложности", languages: ["Java"] },
        { text: "Максимальная гибкость, но сложность выше", languages: ["C++"] }
    ]},
    { text: "Будет ли программа обрабатывать большие объемы данных?", options: [
        { text: "Да, миллионы записей", languages: ["SQL", "Java", "C++", "Python"] },
        { text: "Будут записи с размером с пару тысяч", languages: ["Python", "SQL", "C#"] },
        { text: "Нет, данных немного", languages: ["Python", "C#", "Java"] }
    ]},
    { text: "Планируется ли работа с API(формы оплаты, работа с внешними сервисами)?", options: [
        { text: "Да", languages: ["Python", "Java", "C++"] },
        { text: "Да, но только с облачными хранилищами", languages: ["Python", "C#"] },
        { text: "Нет, программа будет работать локально", languages: ["Java", "Python", "C#"] }
    ]},
	{ text: "Нужно ли работать с мультимедиа (графика, звук)?", options: [
        { text: "Да, важна работа с изображениями и видео", languages: ["C++", "Python", "C#"] },
        { text: "Нет, мультимедиа не используется", languages: ["Python", "C#"] }
    ]},
    { text: "Будет ли программа иметь сложную логику и алгоритмы?", options: [
        { text: "Да, много расчетов и математических моделей", languages: ["C++", "Python"] },
        { text: "Нет, планируется простота использования", languages: ["Python", "C#"] }
    ]},
    { text: "Будет ли поддержка многопоточности?", options: [
        { text: "Да, это важно", languages: ["C++", "Java", "C#"] },
        { text: "Нет, многопоточность не нужна", languages: ["Python", "C#"] }
    ]},
    { text: "Хотите ли вы писать код, который легко поддерживать в будущем?", options: [
        { text: "Да, хочется чистый код и удобство", languages: ["Python", "C#"] },
        { text: "Нет, нужен более закрытый доступ", languages: ["C++", "Java"] }
    ]}
];

const mobileQuestions = [
    { 
        text: "Какой тип приложения вы хотите создать?", 
        options: [
            { text: "Приложение для взаимодействия с веб-сервисами", languages: ["Java", "Kotlin", "C#", "Swift"] },
            { text: "Мобильная игра", languages: ["C++", "C#"] },
            { text: "Корпоративное приложение с базами данных", languages: ["C#", "Java"] },
            { text: "Приложение с обработкой сложных вычислений", languages: ["C++", "Java", "Swift"] },
            { text: "Креативное или мультимедийное приложение", languages: ["Swift", "Kotlin", "Java", "C++"] }
        ]
    },
    { 
        text: "Насколько важна производительность?", 
        options: [
            { text: "Критично, нужна максимальная скорость работы", languages: ["C++", "Swift"] },
            { text: "Должно быть быстро, но с удобным кодом", languages: ["Kotlin", "Java"] },
            { text: "Обычная скорость, удобство важнее", languages: ["C#", "Kotlin"] }
        ]
    },
    { 
        text: "Будет ли приложение использовать сложную графику, анимации или 3D?", 
        options: [
            { text: "Да, много анимации и графики", languages: ["C++", "C#"] },
            { text: "Да, но не критично", languages: ["Swift", "Java"] },
            { text: "Нет, стандартнное графическое приложение", languages: ["Kotlin", "C#"] }
        ]
    },
    { 
        text: "Нужно ли подключение к облачным сервисам (Firebase, AWS, Azure)?", 
        options: [
            { text: "Да, важно работать с облаками", languages: ["Java", "C#", "Kotlin"] },
            { text: "Нет, все данные локальные", languages: ["C++", "Swift"] }
        ]
    },
    { 
        text: "Какой уровень управления памятью вам важен?", 
        options: [
            { text: "Максимальный контроль (ручное управление)", languages: ["C++"] },
            { text: "Автоматическое управление удобно", languages: ["Java", "Kotlin", "Swift", "C#"] }
        ]
    },
    { 
        text: "Нужно ли взаимодействие с устройством (Bluetooth, NFC, сенсоры)?", 
        options: [
            { text: "Да, важна работа с сенсорами и Bluetooth", languages: ["Swift", "Kotlin", "Java"] },
            { text: "Нет", languages: ["C#", "C++"] }
        ]
    },
    { 
        text: "Требуется ли интеграция с базами данных (SQLite, MySQL, PostgreSQL)?", 
        options: [
            { text: "Да, важно", languages: ["Java", "C#", "Kotlin"] },
            { text: "Нет, храним в локальных файлах", languages: ["C++", "Swift"] }
        ]
    },
    { 
        text: "Есть ли требования к безопасности (шифрование, защита данных)?", 
        options: [
            { text: "Да, безопасность на первом месте", languages: ["Swift", "C++", "Java"] },
            { text: "Да, но стандартная", languages: ["C#", "Kotlin"] }
        ]
    },
    { 
        text: "Планируется ли интеграция с AR/VR?", 
        options: [
            { text: "Да, приложение должно поддерживать AR/VR", languages: ["C++", "C#"] },
            { text: "Нет, не планируется", languages: ["Swift", "Java", "Kotlin"] }
        ]
    },
    { 
        text: "Какой стиль программирования вам ближе?", 
        options: [
            { text: "Процедурное программирование", languages: ["C++"] },
            { text: "Объектно-ориентированное", languages: ["C#", "Java", "Swift", "Kotlin"] },
            { text: "Не имею опыта,чтобы разбираться", languages: ["C++", "C#", "Java", "Swift", "Kotlin"] }
        ]
    },
    { 
        text: "Будете ли вы использовать готовые фреймворки (Flutter, React Native, Unity)?", 
        options: [
            { text: "Да, важно использовать фреймворки", languages: ["C#", "Kotlin"] },
            { text: "Нет, хочу писать код нативно", languages: ["Swift", "Java", "C++"] }
        ]
    },
    {  
    text: "Для каких платформ будет приложение?",
    options: [
        { text: "Только Android", languages: ["Android"] },
        { text: "Только iOS", languages: ["iOS"] },
        { text: "Кроссплатформенность", languages: ["Кроссплатформенность"] }
		]
	}
];

const gameDevQuestions = [
    { text: "Какой тип игры вы планируете разрабатывать?", options: [
        { text: "2D-игра", languages: ["C#", "Python"] },
        { text: "3D-игра", languages: ["C#", "C++"] },
        { text: "Симулятор или стратегия", languages: ["C#", "C++"] }
    ]},
	{ text: "Какой жанр игры вам интересен?", options: [
        { text: "Шутер или экшен", languages: ["C++", "C#"] },
        { text: "Ролевые игры (RPG)", languages: ["C#", "Python"] },
        { text: "Головоломки и логические игры", languages: ["Python", "C#"] },
        { text: "Симуляторы и песочницы", languages: ["C#", "C++"] }
    ]},
    { text: "Какой уровень производительности вам нужен?", options: [
        { text: "Максимальная производительность, работа с графикой, оптимизация", languages: ["C++"] },
        { text: "Средний уровень, баланс удобства и скорости", languages: ["C#"] },
        { text: "Простой, без сложной графики, логическая игра", languages: ["Python"] }
    ]},
    { text: "Игра будет кроссплатформенной?", options: [
        { text: "Да, важно, чтобы игра работала на ПК, консоли и мобильных устройствах", languages: ["C#", "C++"] },
        { text: "Нет, только на ПК", languages: ["C++", "Python", "C#"] }
    ]},
    { text: "Будет ли в игре сложная физика с движком?", options: [
        { text: "Да, нужна детальная симуляция", languages: ["C++", "C#"] },
        { text: "Нет, достаточно встроенной физики движка", languages: ["C#", "Python"] }
    ]},
    { text: "Насколько важен удобный синтаксис и простота разработки?", options: [
        { text: "Очень важно", languages: ["Python", "C#"] },
        { text: "Неважно, разберусь в сложных вещах", languages: ["C++"] }
    ]},
    { text: "Будете ли вы разрабатывать игру в одиночку или в команде?", options: [
        { text: "В одиночку", languages: ["Python", "C#"] },
        { text: "В команде", languages: ["C++", "C#"] }
    ]},
    { text: "Какой движок или технология вам интересны?", options: [
        { text: "Unity", languages: ["C#"] },
        { text: "Unreal Engine", languages: ["C++"] },
        { text: "Pygame", languages: ["Python"] },
		{ text: "Godot", languages: ["C#", "C++"] },
    ]},
    { text: "Будете ли вы работать с искусственным интеллектом в игре?", options: [
        { text: "Да, важно для геймплея", languages: ["Python", "C++"] },
        { text: "Нет, только простая логика", languages: ["C#", "C++"] }
    ]},
    { text: "Планируете ли использовать многопоточность или сложные вычисления?", options: [
        { text: "Да, игра требует сложных вычислений", languages: ["C++", "C#"] },
        { text: "Нет, мне это не нужно", languages: ["Python", "C#"] }
    ]},
    { text: "Важно ли для вас использование готовых игровых фреймворков?", options: [
        { text: "Да, хочу использовать готовые инструменты", languages: ["C#", "Python"] },
        { text: "Нет, хочу писать свой движок", languages: ["C++", "C#"] }
    ]},
    { text: "Будет ли в игре многопользовательский режим?", options: [
        { text: "Да, нужна сетевая игра", languages: ["C++", "C#", "Python"] },
        { text: "Нет, только одиночный режим", languages: ["Python", "C#"] }
    ]},
	{ text: "Будете ли вы использовать процедурную генерацию?", options: [
        { text: "Да, требуется создание больших открытых миров", languages: ["C++", "C#"] },
        { text: "Да, но в ограниченном виде", languages: ["Python", "C#"] },
        { text: "Нет, уровни и контент будут создаваться вручную", languages: ["C#", "Python"] }
    ]},
    { text: "Какой у вас уровень программирования?", options: [
        { text: "Начинающий", languages: ["Python"] },
        { text: "Средний", languages: ["C#", "Python"] },
        { text: "Продвинутый", languages: ["C++"] }
    ]},
    { text: "Какой стиль кода вам ближе?", options: [
        { text: "Интуитивно понятный, с автоматическим управлением ресурсами", languages: ["C#", "Python"] },
        { text: "Низкоуровневый контроль и производительность", languages: ["C++"] }
    ]}
];

const aiDevQuestions = [
    { text: "В каком направлении вы хотите применять искусственный интеллект?", options: [
        { text: "Компьютерное зрение (обработка изображений, видео)", languages: ["Python", "C++"] },
        { text: "Обработка естественного языка (работа с текстами, чат-боты)", languages: ["Python", "Java"] },
        { text: "Разработка рекомендательных систем", languages: ["Python", "Java", "C++"] },
        { text: "Создание игр с элементами ИИ", languages: ["C++", "Python"] },
        { text: "Финансовый анализ и прогнозирование", languages: ["Python", "Java"] },
        { text: "Автоматизация процессов и робототехника", languages: ["C++", "Python"] }
    ]},
    { text: "Какую область машинного обучения вам интереснее всего изучать?", options: [
        { text: "Обучение нейросетей (Deep Learning)", languages: ["Python", "C++"] },
        { text: "Классическое машинное обучение (классификация, регрессия)", languages: ["Python", "Java"] },
        { text: "Анализ данных и статистика", languages: ["Python"] },
        { text: "Встраиваемый AI (AI в микроконтроллерах, робототехнике)", languages: ["C++"] },
        { text: "Оптимизация и работа с большими вычислениями", languages: ["C++", "Java"] }
    ]},
    { text: "Вам нужна простота в изучении?", options: [
        { text: "Да, мне важен легкий синтаксис", languages: ["Python"] },
        { text: "Не обязательно, главное мощность", languages: ["C++", "Java"] }
    ]},
    { text: "Будете ли вы работать с большими данными и аналитикой?", options: [
        { text: "Да, мне важно обрабатывать большие объемы информации", languages: ["Python", "Java"] },
        { text: "Нет, меня больше интересует оптимизация моделей", languages: ["C++"] }
    ]},
    { text: "Планируете ли вы разрабатывать модели для встроенных систем и IoT?", options: [
        { text: "Да, мне нужно работать с устройствами и робототехникой", languages: ["C++"] },
        { text: "Нет, я ориентируюсь на большие вычисления", languages: ["Python", "Java"] }
    ]},
    { text: "Какой важный фактор для вас при выборе языка?", options: [
        { text: "Простота написания и наличие библиотек", languages: ["Python"] },
        { text: "Высокая производительность", languages: ["C++", "Java"] },
        { text: "Возможность разработки сложных AI-систем", languages: ["C++", "Python"] },
        { text: "Кроссплатформенность", languages: ["Java", "Python"] }
    ]},
    { text: "Будете ли вы разрабатывать мобильные AI-приложения?", options: [
        { text: "Да, мне нужно встраивать модели в мобильные приложения", languages: ["Java", "Python"] },
        { text: "Нет, мне важнее серверные вычисления", languages: ["Python", "C++"] }
    ]},
    { text: "Хотите ли вы разрабатывать AI для игр или графики?", options: [
        { text: "Да, мне нужен AI для игровых ботов, графических вычислений", languages: ["C++", "Python"] },
        { text: "Нет, меня интересуют другие направления", languages: ["Python", "Java"] }
    ]},
    { text: "Какую роль играет скорость работы для вас?", options: [
        { text: "Мне важна максимальная производительность", languages: ["C++"] },
        { text: "Достаточно хорошей скорости и удобства", languages: ["Python", "Java"] }
    ]},
    { text: "Нужно ли вам использовать GPU для ускорения вычислений?", options: [
        { text: "Да, я хочу обучать нейросети на видеокартах", languages: ["Python", "C++"] },
        { text: "Нет, мне важнее общая оптимизация", languages: ["Java", "C++"] }
    ]},
    { text: "Хотите ли вы работать с облачными AI-сервисами?", options: [
        { text: "Да, мне нужен доступ к Google Cloud, AWS AI, Azure", languages: ["Python", "Java"] },
        { text: "Нет, я работаю в локальной среде", languages: ["Python", "C++"] }
    ]},
    { text: "Какой язык программирования вам ближе?", options: [
        { text: "Я уже работал с Python", languages: ["Python"] },
        { text: "Мне больше нравится Java", languages: ["Java"] },
        { text: "У меня опыт с C++", languages: ["C++"] },
        { text: "Я пока не работал с этими языками и хочу подобрать подходящий", languages: [] }
    ]},
    { text: "Будете ли вы разрабатывать свои AI-алгоритмы с нуля?", options: [
        { text: "Да, я хочу разрабатывать алгоритмы и низкоуровневый код", languages: ["C++", "Python"] },
        { text: "Нет, я хочу использовать существующие библиотеки", languages: ["Python", "Java"] }
    ]},
    { text: "Вам важно, чтобы язык был широко применим в индустрии?", options: [
        { text: "Да, мне нужен наиболее востребованный язык", languages: ["Python", "Java"] },
        { text: "Нет, мне важнее технические характеристики", languages: ["C++"] }
    ]},
    { text: "Будете ли вы работать с AI в web-приложениях?", options: [
        { text: "Да, мне нужно интегрировать AI в веб-приложения", languages: ["Python", "Java"] },
        { text: "Нет, я работаю с вычислительными задачами", languages: ["C++", "Python"] }
    ]}
];



let currentQuestion = 0;
let selectedLanguages = new Set();
let selectedPlatform = ""; // Объявляем переменную для хранения платформы
let currentSurvey = [];
let languageCounts = {}; // Глобальная переменная для подсчета языков

function startSurvey(type) {
    document.getElementById('start-container').style.display = 'none';
    document.getElementById('survey').style.display = 'block';

    if (type === 'site') {
        currentSurvey = questions;
    } else if (type === 'desktop') {
        currentSurvey = desktopQuestions;
    } else if (type === 'mobile') {
        currentSurvey = mobileQuestions;
    } else if (type === 'game') {
        currentSurvey = gameDevQuestions;
    } else if (type === 'aiDev') {
        currentSurvey = aiDevQuestions;
	}

    currentQuestion = 0;
    selectedLanguages.clear();
    loadQuestion();
}

function loadQuestion() {
    const questionData = currentSurvey[currentQuestion];
    document.getElementById('question-text').innerText = questionData.text;
    const optionsContainer = document.getElementById('options-container');
    optionsContainer.innerHTML = '';

    questionData.options.forEach(option => {
        const btn = document.createElement('button');
        btn.classList.add('option-button');
        btn.innerText = option.text;
        btn.onclick = () => selectAnswer(btn, option.languages);
        optionsContainer.appendChild(btn);
    });

    document.getElementById('prev-btn').style.display = currentQuestion > 0 ? 'inline-block' : 'none';
}

function selectAnswer(btn, values) {
    document.querySelectorAll('.option-button').forEach(opt => opt.classList.remove('selected'));
    btn.classList.add('selected');

    if (currentQuestion === currentSurvey.length - 1) {
        selectedPlatform = btn.innerText.trim();
        console.log("Выбрана платформа:", selectedPlatform);
    } else {
        values.forEach(lang => {
            selectedLanguages.add(lang);
            languageCounts[lang] = (languageCounts[lang] || 0) + 1; // Увеличиваем счетчик
        });
    }

    console.log("Выбранные языки после выбора:", Array.from(selectedLanguages));
    console.log("Частота языков:", languageCounts);
}




function nextQuestion(isCancel = false) {
    if (isCancel) {
        // Показываем диалоговое окно при нажатии "Отмена"
        let confirmExit = confirm("Вы уверены, что хотите выйти? Ваши ответы не сохранятся.");
        if (confirmExit) {
            window.location.href = "index.html"; // Укажи нужную страницу
        }
        return; // Прерываем выполнение, если пользователь нажал "Нет"
    }

    // Стандартная проверка выбора ответа перед переходом к следующему вопросу
    if (!document.querySelector('.option-button.selected')) {
        alert('Пожалуйста, выберите вариант ответа!');
        return;
    }

    if (currentQuestion < currentSurvey.length - 1) {
        currentQuestion++;
        loadQuestion();
    } else {
        showResult();
    }
}


function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
    }
}

function showResult() {
  document.getElementById('survey').style.display = 'none';
  const resultContainer = document.getElementById('result-container');
  resultContainer.style.display = 'block';
  resultContainer.innerHTML = `
    <h2>Подходящие языки:</h2>
    <p id="result-text"></p>
    <button class="download-button" onclick="continueSurvey()">Продолжить</button>
    <button class="download-button" onclick="showSaveModal()">Сохранить результат</button>
  `;
  document.getElementById('result-text').innerText = determineResult();
}

function determineResult() { 
    const languages = Array.from(selectedLanguages);

    if (currentSurvey === desktopQuestions) {
        return determineDesktopResult(languages);
    } else if (currentSurvey === mobileQuestions) {
        return determineMobileResult(languages);
    } else if (currentSurvey === gameDevQuestions) {  
        return determineGameDevResult(languages);
    } else if (currentSurvey === aiDevQuestions) {  // 🔥 Добавляем обработку AI-опросника
        return determineAiDevResult(languages);
    } else {
        return determineSiteResult(languages);
    }
}



function determineSiteResult() {
    console.log("Частота языков перед анализом:", languageCounts);

    // 1. Выбираем только языки, встречающиеся 2+ раза
    let finalLanguages = Object.keys(languageCounts).filter(lang => languageCounts[lang] >= 2);
    console.log("Финальные языки перед фильтрацией:", finalLanguages);

    // 2. Функция для разрешения конфликтов
    const resolveConflict = (lang1, lang2) => {
        if (finalLanguages.includes(lang1) && finalLanguages.includes(lang2)) {
            if (languageCounts[lang1] > languageCounts[lang2]) {
                finalLanguages = finalLanguages.filter(lang => lang !== lang2);
            } else {
                finalLanguages = finalLanguages.filter(lang => lang !== lang1);
            }
        }
    };

    // 3. Разрешение конфликтов между языками
    resolveConflict("HTML", "C#");
    resolveConflict("HTML", "C++");  // Добавлена обработка HTML/C++
    resolveConflict("JavaScript", "Python");
    resolveConflict("Python", "C#");
    resolveConflict("PHP", "Python");
    resolveConflict("C#", "C++");    // Добавлен новый конфликт

    console.log("Финальные языки после фильтрации:", finalLanguages);

    if (finalLanguages.length === 0) {
        return "Недостаточно данных для определения подходящего языка.";
    }

    // 3. Описания для каждого языка
    const languageDescriptions = {
        "HTML": "HTML используется для создания структуры веб-страниц и является основой любого веб-сайта. HTML подходит для простых сайтов без обработки данных и со статическим содержимым, что затрудняет его использование при создании больших сайтов. Может быть использован с другими языками.",
        "CSS": "CSS отвечает за стилизацию веб-страниц, делая их визуально привлекательными. С CSS любой сайт будет иметь привлекательный графический интерфейс. Для быстрой разработки привлекательных интерфейсов используются Bootstrap, Tainwind CSS.",
        "JavaScript": "JavaScript добавляет интерактивность и динамику на веб-сайты, делая их более функциональными. Может использоваться для серверной логики и обработки данных. Для создания пользовательских интерфейсов, динамичных сайтов исполльзуются Raect, Angular, Vue.js. Для серверной логики используется Node.js, Express.js",
        "SQL": "SQL используется для работы с базами данных, что необходимо для хранения и управления данными на сайтах. Используется вместе с другими языками программирования.",
        "Python": "Python часто используется для серверной логики и обработки данных, особенно в веб-разработке. Может использоваться для создания графической оболочки веб-сайта.  Для frontend-разработки подходят Django, Flask. Для backend-рвзрвботки - React.js или Vue.js",
        "C#": "C# подходит для создания сложных веб-приложений и серверных решений. Если нужно создать сайт, работающим на любом устройстве  - C# отличный выбор. При создании графических интерфейсов используются ASP.NET, ASP.NET Core. Для серверной части используются технологии JavaScript, такие как React, Angular, Vue.js",
        "C++": "C++ применяется в высокопроизводительных веб-приложениях, требующих сложных вычислений. Сложен в использовании. Если нужно хорошо оптимизированное веб-приложение, работающее на любых устройствах - C++ хорошая альтернатива. Для создания веб-приложений используется CppCMS, Wt. Можно интегрировать с HTML, JavaScript с их технологиями",
        "PHP": "PHP неплохо подходит для серверной обработки данных. Пользоваться им следует для проектов, не требующих обработки массивных данных.  Если использовать локально - подходит утлита OpenServer с СУБД PHPMyAdmin. Если масштабировать проект на отдельно работающие сервера - подходит Docker."
    };

    // 4. Формируем текстовое описание для выбранных языков
    let descriptions = finalLanguages.map(lang => `${lang}: ${languageDescriptions[lang]}`).join("\n");

    return `Подходящие языки:${finalLanguages.join(", ")}.\n\nПочему именно эти языки?\n${descriptions}`;
}




function determineDesktopResult(languages) {
    console.log("Частота языков перед анализом:", languageCounts);

    // 1. Подсчет количества вхождений каждого языка
    let sortedLanguages = Object.entries(languageCounts)
        .sort((a, b) => b[1] - a[1]) // Сортируем по убыванию частоты
        .map(entry => entry[0]); // Берем только названия языков

    console.log("Отсортированные языки по частоте:", sortedLanguages);
	
	// После подсчета sortedLanguages добавить:
if (sortedLanguages.includes("C#") && sortedLanguages.includes("C++")) {
    if (languageCounts["C#"] > languageCounts["C++"]) {
        sortedLanguages = sortedLanguages.filter(lang => lang !== "C++");
    } else {
        sortedLanguages = sortedLanguages.filter(lang => lang !== "C#");
    }
}

    // 2. Выбираем два самых популярных языка
    let primaryLanguage = sortedLanguages[0] || "";
    let secondaryLanguage = sortedLanguages[1] || "";

    // 3. Если SQL был выбран, добавляем его в результат
    let includesSQL = sortedLanguages.includes("SQL");
    let resultLanguages = [primaryLanguage, secondaryLanguage];
    if (includesSQL && !resultLanguages.includes("SQL")) {
        resultLanguages.push("SQL");
    }

    console.log("Финальные языки для результата:", resultLanguages);

    if (!primaryLanguage) {
        return "Недостаточно данных для определения подходящего языка.";
    }

    // 4. Описания для каждого языка
    const languageDescriptions = {
        "C#": "C# отлично подходит для создания программ с разной степенью функционала. Возможно создание программ как с графическим интерфейсом с использованием технологий WPF/Windows Forms, так и без него (консольные проекты).",
        "Java": "Java используется для кроссплатформенной разработки и корпоративных решений.",
        "Python": "Python один из самых используемых языков программирования. Можно использовать как на мощных,так и на слабых системах. Используется при создании программ разной сложности и направленности в виду огромного количества используемых библиотек.",
        "C++": "C++ обеспечивает высокую производительность и применяется в системном программировании. Сложен в изучении, но млжно использовать и на слабых системах",
        "SQL": "SQL необходим для работы с базами данных и управления большими объемами данных. Если необходимо обрбатывать и хранить большие объёмы данных - SQL хороший выбор",
    };

    // 5. Формируем описание выбранных языков
    let description = `Подходящие языки:${resultLanguages.join(", ")}.\n\nПочему именно эти языки?\n`;
    resultLanguages.forEach(lang => {
        description += `- ${lang}: ${languageDescriptions[lang]}\n`;
    });

    return description;
}
      

function determineMobileResult(languages) {
    console.log("Выбранные языки перед анализом:", languages);
    console.log("Выбранная платформа:", selectedPlatform);

    let primaryLanguage = "";
    let secondaryLanguage = "";

    if (selectedPlatform === "Только Android") {
        if (languages.includes("Java") && languages.includes("Kotlin")) {
            primaryLanguage = "Java";
            secondaryLanguage = "Kotlin";
        } else if (languages.includes("Kotlin") && languages.includes("Java")) {
            primaryLanguage = "Kotlin";
            secondaryLanguage = "Java";
        } else if (languages.includes("C++") && languages.includes("C#")) {
            primaryLanguage = "C++";
            secondaryLanguage = "C#";
        } else if (languages.includes("C#") && languages.includes("C++")) {
            primaryLanguage = "C#";
            secondaryLanguage = "C++";
        }
    } else if (selectedPlatform === "Только iOS") {
        if (languages.includes("Swift") && languages.includes("C++")) {
            primaryLanguage = "Swift";
            secondaryLanguage = "C++";
        } else if (languages.includes("Swift") && languages.includes("C#")) {
            primaryLanguage = "Swift";
            secondaryLanguage = "C#";
        } else if (languages.includes("C++") && languages.includes("Swift")) {
            primaryLanguage = "C++";
            secondaryLanguage = "Swift";
        } else if (languages.includes("C#") && languages.includes("Swift")) {
            primaryLanguage = "C#";
            secondaryLanguage = "Swift";
        }
    } else if (selectedPlatform === "Кроссплатформенность") {
        if (languages.includes("C#") && languages.includes("C++")) {
            primaryLanguage = "C++";
            secondaryLanguage = "C#";
        } else if (languages.includes("C#") && languages.includes("C++")) {
            primaryLanguage = "C#";
            secondaryLanguage = "C++";
        }
    }

    if (!primaryLanguage) {
        console.log("Ошибка: платформа не была выбрана.");
        return "Недостаточно данных для определения подходящего языка.";
    }

    // 1. Описания для каждого языка
    const languageDescriptions = {
        "Java": "Java — один из основных языков для разработки Android-приложений, поддерживается Google и Android Studio. Отлично может использоваться вместе с Kotlin. Используется фреймворк - Android SDK. Использующиеся технологии - Gradle, Android Jetpack ",
        "Kotlin": "Kotlin — современный язык для Android, более удобный и лаконичный. Kotlin отлично можно интегрировать с Java с его технологиями. Дополнительно используются Ktor, Coroutines",
        "C++": "C++ используется для создания высокопроизводительных мобильных приложений, особенно в играх и графике. Сложно использовать. Если нужна отличная производительность - C++ хорошая альтернатива. Используются такие фреймворки, как Qt, Cocos2d-x. Дополнительно используется OpenCV, NDK",
        "C#": "C# применяется для разработки кроссплатформенных мобильных приложений. Используются такие фреймворки как Xamarin, MAUI. Дполнительно используеься .NET SDK и VisualStudio.",
        "Swift": "Swift — основной язык для iOS-приложений, разработанный Apple, быстрый и удобный. Используются такие фремворки как UIKit и SwiftUI. Дополнительно могут использоваться Xcode, CocoaPods"
    };

    // 2. Формируем описание для выбранных языков
    let description = `${primaryLanguage} (основной)`;
    if (secondaryLanguage) {
        description += `, ${secondaryLanguage} (дополнительный/альтернативный).`;
    } else {
        description += `.`;
    }

    description += `\n\nПочему именно эти языки?\n`;
    description += `${languageDescriptions[primaryLanguage]}\n`;
    if (secondaryLanguage) {
        description += `${languageDescriptions[secondaryLanguage]}`;
    }

    return description;
}

function determineGameDevResult() {
    console.log("Частота языков перед анализом:", languageCounts);

    // 1. Подсчет количества вхождений каждого языка
    let sortedLanguages = Object.entries(languageCounts)
        .sort((a, b) => b[1] - a[1]) // Сортируем по убыванию частоты
        .map(entry => entry[0]); // Берем только названия языков

    console.log("Отсортированные языки по частоте:", sortedLanguages);

    // 2. Выбираем два самых популярных языка
    let primaryLanguage = sortedLanguages[0] || "";
    let secondaryLanguage = sortedLanguages[1] || "";

    if (!primaryLanguage) {
        return "Недостаточно данных для определения подходящего языка.";
    }

    // 3. Отдельное описание ТОЛЬКО для игр
    const gameDevDescriptions = {
        "C#": "C# широко используется в игровой индустрии. Часто используется с такими движками как Unity, Unreal Engine 4/5, Godot",
        "C++": "C++ является основным языком для создания высокопроизводительных игр.Обеспечивает низкоуровневый контроль ресурсов. Использует такие движки как Unreal Engine 4/5, CryEngine, OpenGL/Vulkan, DirectX",
        "Python": "Python удобен для написания логики игр, искусственного интеллекта и прототипирования. Часто используется в инди-разработке, 2D-игр. Возможно создать 3D-игру, но используя меньше выскокоуровневых ресурсов. Использует такие библиотеки как Pygame, Arcade, Ren'Py"
    };

    // 4. Формируем описание для выбранных языков
    let description = `Подходящие языки: ${primaryLanguage} (основной)`;
    if (secondaryLanguage) {
        description += `, ${secondaryLanguage} (дополнительный).`;
    } else {
        description += `.`;
    }

    description += `\n\nПочему именно эти языки?\n`;
    description += `- **${primaryLanguage}**: ${gameDevDescriptions[primaryLanguage]}\n`;
    if (secondaryLanguage) {
        description += `- ${secondaryLanguage}: ${gameDevDescriptions[secondaryLanguage]}\n`;
    }

    return description;
}

function determineAiDevResult() {
    console.log("Частота языков перед анализом:", languageCounts);

    // 1. Подсчет количества вхождений каждого языка
    let sortedLanguages = Object.entries(languageCounts)
        .sort((a, b) => b[1] - a[1]) // Сортируем по убыванию частоты
        .map(entry => entry[0]); // Берем только названия языков

    console.log("Отсортированные языки по частоте:", sortedLanguages);

    // 2. Выбираем два самых популярных языка
    let primaryLanguage = sortedLanguages[0] || "";
    let secondaryLanguage = sortedLanguages[1] || "";

    if (!primaryLanguage) {
        return "Недостаточно данных для определения подходящего языка.";
    }

    // 3. Описания для каждого языка
    const aiDevDescriptions = {
        "Python": "Python — основной язык для машинного обучения и AI. Он обладает богатой экосистемой библиотек, таких как TensorFlow, PyTorch и scikit-learn. Существуют и другие уже готовые модели. Прост в изучении и подходит для обработки большого количества данных.",
        "C++": "C++ используется в высокопроизводительных AI-системах и робототехнике, обеспечивая низкоуровневый контроль и скорость выполнения. Сложен в изучении но способен выдавать очень высокие результаты в скорости и поизводительности.",
        "Java": "Java популярен в корпоративных AI-решениях и мобильных AI-приложениях благодаря своей кроссплатформенности. Может выступать неполохой альетнативой C++ или Python."
    };

    // 4. Формируем описание для выбранных языков
    let description = `Подходящие языки: ${primaryLanguage} (основной)`;
    if (secondaryLanguage) {
        description += `, ${secondaryLanguage} (альтернативный).`;
    } else {
        description += `.`;
    }

    description += `\n\nПочему именно эти языки?\n`;
    description += `- ${primaryLanguage}: ${aiDevDescriptions[primaryLanguage]}\n`;
    if (secondaryLanguage) {
        description += `- ${secondaryLanguage}: ${aiDevDescriptions[secondaryLanguage]}\n`;
    }

    return description;
}


function continueSurvey() {
    window.location.href = 'index.html';
}

// Показать модальное окно
function showSaveModal() {
  document.getElementById('save-result-modal').style.display = 'block';
}

// Закрыть модальное окно
document.querySelector('.close').onclick = function() {
  document.getElementById('save-result-modal').style.display = 'none';
}

// Сохранение результатов
async function saveResult() {
  const fio = document.getElementById('result-fio').value.trim();
  const group = document.getElementById('result-group').value.trim();
  
  if(!fio || !group) {
    alert("Заполните все обязательные поля!");
    return;
  }

  const resultText = document.getElementById('result-text').innerText;
  let languages;
  
  try {
    // Универсальный парсинг для всех типов опросов
    if (currentSurvey === mobileQuestions) {
      // Для мобильных результатов (пример формата: "Java (основной), Kotlin (дополнительный)")
      languages = resultText.split('\n')[0]
        .replace('Подходящие языки:', '')
        .trim();
    } else {
      // Для других типов опросов
      languages = resultText.match(/Подходящие языки:(.*?)(\n|$)/)[1].trim();
    }
  } catch (e) {
    console.error("Ошибка парсинга результатов:", e);
    languages = "Не удалось определить";
  }

  const formData = new FormData();
  formData.append('fio', fio);
  formData.append('group', group);
  formData.append('languages', languages);

  try {
    const response = await fetch(SAVE_SCRIPT_URL, {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded",
      },
      body: new URLSearchParams(formData)
    });
    
    const result = await response.text();
    if(result === 'Success') {
      alert('✅ Результаты сохранены!');
      document.getElementById('save-result-modal').style.display = 'none';
    } else {
      alert('⛔ Ошибка: ' + result);
    }
  } catch (err) {
    alert('🚫 Ошибка сети: ' + err.message);
  }
}
// Добавьте эту кнопку в блок с результатами
document.getElementById('result-container').innerHTML += 
  '<button class="download-button" onclick="showSaveModal()">Сохранить результат</button>';
    </script>
</body>
</html>